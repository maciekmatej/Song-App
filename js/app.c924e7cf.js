(function(e){function t(t){for(var r,c,s=t[0],i=t[1],l=t[2],b=0,d=[];b<s.length;b++)c=s[b],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&d.push(a[c][0]),a[c]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);u&&u(t);while(d.length)d.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,s=1;s<n.length;s++){var i=n[s];0!==a[i]&&(r=!1)}r&&(o.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},a={app:0},o=[];function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/Song-App/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],i=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=i;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23");function a(e,t,n,a,o,c){var s=Object(r["E"])("app-header"),i=Object(r["E"])("router-view"),l=Object(r["E"])("app-player"),u=Object(r["E"])("auth-modal");return Object(r["z"])(),Object(r["g"])(r["a"],null,[Object(r["k"])(s),Object(r["k"])(i,null,{default:Object(r["O"])((function(e){var t=e.Component;return[Object(r["k"])(r["b"],{name:"fade",mode:"out-in"},{default:Object(r["O"])((function(){return[(Object(r["z"])(),Object(r["e"])(Object(r["F"])(t)))]})),_:2},1024)]})),_:1}),Object(r["k"])(l),Object(r["k"])(u)],64)}var o={id:"header",class:"bg-gray-700"},c={class:"container mx-auto flex justify-between items-center py-5 px-4"},s=Object(r["j"])(" Music "),i={class:"flex items-center"},l={class:"flex flex-row mt-1"},u=Object(r["j"])("About"),b={key:0},d=Object(r["j"])("Manage");function m(e,t,n,a,m,g){var p=Object(r["E"])("router-link");return Object(r["z"])(),Object(r["g"])("header",o,[Object(r["h"])("nav",c,[Object(r["k"])(p,{class:"text-white font-bold uppercase text-2xl mr-4",to:{name:"home"},"exact-active-class":"no-active"},{default:Object(r["O"])((function(){return[s]})),_:1}),Object(r["h"])("div",i,[Object(r["h"])("ul",l,[Object(r["h"])("li",null,[Object(r["k"])(p,{class:"px-2 text-white",to:{name:"about"}},{default:Object(r["O"])((function(){return[u]})),_:1})]),e.userLoggedIn?(Object(r["z"])(),Object(r["g"])(r["a"],{key:1},[Object(r["h"])("li",null,[Object(r["k"])(p,{class:"px-2 text-white",to:{name:"manage"}},{default:Object(r["O"])((function(){return[d]})),_:1})]),Object(r["h"])("li",null,[Object(r["h"])("a",{class:"px-2 text-white",href:"#",onClick:t[1]||(t[1]=Object(r["Q"])((function(){return g.signOut&&g.signOut.apply(g,arguments)}),["prevent"]))}," Log out ")])],64)):(Object(r["z"])(),Object(r["g"])("li",b,[Object(r["h"])("a",{class:"px-2 text-white",href:"#",onClick:t[0]||(t[0]=Object(r["Q"])((function(){return e.toggleAuthModal&&e.toggleAuthModal.apply(e,arguments)}),["prevent"]))}," Log in ")]))])])])])}var g=n("5530"),p=n("5502"),h={name:"AppHeader",methods:Object(g["a"])(Object(g["a"])({},Object(p["d"])(["toggleAuthModal"])),{},{signOut:function(){this.$store.dispatch("signOut"),this.$route.meta.requiresAuth&&this.$router.push({name:"home"})}}),computed:Object(g["a"])({},Object(p["e"])(["userLoggedIn"]))};h.render=m;var O=h,j={class:"\n        flex\n        items-end\n        justify-center\n        min-h-screen\n        pt-4\n        px-4\n        pb-20\n        text-center\n        sm:block\n        sm:p-0\n      "},f=Object(r["h"])("div",{class:"fixed inset-0 transition-opacity"},[Object(r["h"])("div",{class:"absolute inset-0 bg-gray-800 opacity-75"})],-1),v=Object(r["h"])("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen"},"â€‹",-1),x={class:"\n          inline-block\n          align-bottom\n          bg-white\n          rounded-lg\n          text-left\n          overflow-hidden\n          shadow-xl\n          transform\n          transition-all\n          sm:my-8\n          sm:align-middle\n          sm:max-w-lg\n          sm:w-full\n        "},y={class:"py-4 text-left px-6"},_={class:"flex justify-between items-center pb-4"},w=Object(r["h"])("p",{class:"text-2xl font-bold"},"Your Account",-1),k=Object(r["h"])("i",{class:"fas fa-times"},null,-1),S=[k],A={class:"flex flex-wrap mb-4"},E={class:"flex-auto text-center"},P={class:"flex-auto text-center"};function R(e,t,n,a,o,c){var s=Object(r["E"])("login-form"),i=Object(r["E"])("register-form");return Object(r["z"])(),Object(r["g"])("div",{class:Object(r["s"])(["fixed z-10 inset-0 overflow-y-auto",{hidden:!e.authModalShow}]),id:"modal"},[Object(r["h"])("div",j,[f,v,Object(r["h"])("div",x,[Object(r["h"])("div",y,[Object(r["h"])("div",_,[w,Object(r["h"])("div",{class:"modal-close cursor-pointer z-50",onClick:t[0]||(t[0]=Object(r["Q"])((function(){return e.toggleAuthModal&&e.toggleAuthModal.apply(e,arguments)}),["prevent"]))},S)]),Object(r["h"])("ul",A,[Object(r["h"])("li",E,[Object(r["h"])("a",{class:Object(r["s"])(["block rounded py-3 px-4 transition",{"hover:text-white text-white bg-blue-600":"login"===o.tab,"hover:text-blue-600":"register"===o.tab}]),href:"#",onClick:t[1]||(t[1]=Object(r["Q"])((function(e){return o.tab="login"}),["prevent"]))},"Login ",2)]),Object(r["h"])("li",P,[Object(r["h"])("a",{class:Object(r["s"])(["block rounded py-3 px-4 transition",{"hover:text-white text-white bg-blue-600":"register"===o.tab,"hover:text-blue-600":"login"===o.tab}]),href:"#",onClick:t[2]||(t[2]=Object(r["Q"])((function(e){return o.tab="register"}),["prevent"]))},"Register",2)])]),"login"===o.tab?(Object(r["z"])(),Object(r["e"])(s,{key:0})):(Object(r["z"])(),Object(r["e"])(i,{key:1}))])])])],2)}var z={class:"mb-3"},D=Object(r["h"])("label",{class:"inline-block mb-2"},"Email",-1),C={class:"mb-3"},I=Object(r["h"])("label",{class:"inline-block mb-2"},"Password",-1),M=["disabled"];function L(e,t,n,a,o,c){var s=Object(r["E"])("vee-field"),i=Object(r["E"])("error-message"),l=Object(r["E"])("vee-form");return Object(r["z"])(),Object(r["g"])(r["a"],null,[o.login_show_alert?(Object(r["z"])(),Object(r["g"])("div",{key:0,class:Object(r["s"])(["text-white text-center font-bold p-4 mb-4 rounded",o.login_alert_variant])},Object(r["H"])(o.login_alert_message),3)):Object(r["f"])("",!0),Object(r["k"])(l,{onSubmit:c.login,"validation-schema":o.loginSchema},{default:Object(r["O"])((function(){return[Object(r["h"])("div",z,[D,Object(r["k"])(s,{name:"email",type:"email",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300\n          transition duration-500 focus:outline-none focus:border-black\n          rounded",placeholder:"Enter Email"}),Object(r["k"])(i,{class:"text-red-600",name:"email"})]),Object(r["h"])("div",C,[I,Object(r["k"])(s,{name:"password",type:"password",class:"block w-full py-1.5 px-3 ext-gray-800 border border-gray-300\n          transition duration-500 focus:outline-none focus:border-black\n          rounded",placeholder:"Password"}),Object(r["k"])(i,{class:"text-red-600",name:"password"})]),Object(r["h"])("button",{type:"submit",disabled:o.login_in_submission,class:Object(r["s"])([{"bg-purple-600 hover:bg-purple-700":!o.login_in_submission,"bg-gray-500":o.login_in_submission},"block w-full text-white py-1.5 px-3 rounded transition"])}," Login ",10,M)]})),_:1},8,["onSubmit","validation-schema"])],64)}var F=n("1da1"),q=(n("96cf"),{name:"LoginForm",data:function(){return{loginSchema:{email:"required|email",password:"required|min:3|max:20"},login_in_submission:!1,login_show_alert:!1,login_alert_variant:"bg-blue-500",login_alert_message:"Please wait! Checking the credentials..."}},methods:{login:function(e){var t=this;return Object(F["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.login_alert_variant="bg-blue-500",t.login_alert_message="Please wait! Checking the credentials...",t.login_in_submission=!0,t.login_show_alert=!0,n.prev=4,n.next=7,t.$store.dispatch("login",e);case 7:n.next=15;break;case 9:return n.prev=9,n.t0=n["catch"](4),t.login_in_submission=!1,t.login_alert_message="Sorry, unexpected error occurred, try again!",t.login_alert_variant="bg-red-600",n.abrupt("return");case 15:return t.login_alert_message="Success! You logged in!",t.login_alert_variant="bg-green-600",n.next=19,t.$store.dispatch("succesLog");case 19:window.location.reload();case 20:case"end":return n.stop()}}),n,null,[[4,9]])})))()}}});q.render=L;var U=q,T={class:"mb-3"},H=Object(r["h"])("label",{class:"inline-block mb-2"},"Name",-1),$={class:"mb-3"},Q=Object(r["h"])("label",{class:"inline-block mb-2"},"Email",-1),Y={class:"mb-3"},B=Object(r["h"])("label",{class:"inline-block mb-2"},"Age",-1),N={class:"mb-3"},G=Object(r["h"])("label",{for:"pass",class:"inline-block mb-2"},"Password",-1),V={class:"mb-3"},K=Object(r["h"])("label",{for:"confirm_password",class:"inline-block mb-2"},"Confirm Password",-1),J={class:"mb-3"},W=Object(r["h"])("label",{class:"inline-block"},"User type",-1),X=Object(r["h"])("option",{value:"Artist"},"Artist",-1),Z=Object(r["h"])("option",{value:"Listener"},"Listener",-1),ee={class:"mb-3"},te=Object(r["h"])("label",{class:"inline-block mb-2"},"Country",-1),ne=Object(r["h"])("option",{value:"USA"},"USA",-1),re=Object(r["h"])("option",{value:"Mexico"},"Mexico",-1),ae=Object(r["h"])("option",{value:"Germany"},"Germany",-1),oe=Object(r["h"])("option",{value:"Argentina"},"Argentina",-1),ce={class:"mb-3 pl-6"},se=Object(r["h"])("label",{class:"inline-block"},"Accept terms of service",-1),ie=["disabled"];function le(e,t,n,a,o,c){var s=Object(r["E"])("vee-field"),i=Object(r["E"])("error-message"),l=Object(r["E"])("vee-form");return Object(r["z"])(),Object(r["g"])(r["a"],null,[o.reg_show_alert?(Object(r["z"])(),Object(r["g"])("div",{key:0,class:Object(r["s"])(["text-white text-center font-bold p-5 mb-4 rounded",o.reg_alert_variant])},Object(r["H"])(o.reg_alert_msg),3)):Object(r["f"])("",!0),Object(r["k"])(l,{onSubmit:c.register,"validation-schema":o.schema,"initial-values":o.userData},{default:Object(r["O"])((function(){return[Object(r["h"])("div",T,[H,Object(r["k"])(s,{name:"name",type:"text",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300\n          transition duration-500 focus:outline-none focus:border-black\n          rounded",placeholder:"Enter Name"}),Object(r["k"])(i,{class:"text-red-600",name:"name"})]),Object(r["h"])("div",$,[Q,Object(r["k"])(s,{type:"email",name:"email",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300\n          transition duration-500 focus:outline-none\n          focus:border-black rounded",placeholder:"Enter Email"}),Object(r["k"])(i,{class:"text-red-600",name:"email"})]),Object(r["h"])("div",Y,[B,Object(r["k"])(s,{name:"age",type:"number",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300\n          transition duration-500 focus:outline-none focus:border-black\n          rounded"}),Object(r["k"])(i,{class:"text-red-600",name:"age"})]),Object(r["h"])("div",N,[G,Object(r["k"])(s,{name:"password",bails:!1},{default:Object(r["O"])((function(e){var t=e.field,n=e.errors;return[Object(r["h"])("input",Object(r["q"])({id:"pass",type:"password",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300\n            transition duration-500 focus:outline-none focus:border-black\n            rounded",placeholder:"Password"},t),null,16),(Object(r["z"])(!0),Object(r["g"])(r["a"],null,Object(r["D"])(n,(function(e){return Object(r["z"])(),Object(r["g"])("div",{class:"text-red-600",key:e},Object(r["H"])(e),1)})),128))]})),_:1})]),Object(r["h"])("div",V,[K,Object(r["k"])(s,{id:"confirm_password",name:"confirm_password",type:"password",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300\n          transition duration-500 focus:outline-none focus:border-black\n          rounded",placeholder:"Confirm Password"}),Object(r["k"])(i,{class:"text-red-600",name:"confirm_password"})]),Object(r["h"])("div",J,[W,Object(r["k"])(s,{name:"user_type",as:"select",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300\n          transition duration-500 focus:outline-none focus:border-black\n          rounded"},{default:Object(r["O"])((function(){return[X,Z]})),_:1}),Object(r["k"])(i,{class:"text-red-600",name:"user_type"})]),Object(r["h"])("div",ee,[te,Object(r["k"])(s,{as:"select",name:"country",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300\n          transition duration-500 focus:outline-none focus:border-black\n          rounded"},{default:Object(r["O"])((function(){return[ne,re,ae,oe]})),_:1}),Object(r["k"])(i,{class:"text-red-600",name:"country"})]),Object(r["h"])("div",ce,[Object(r["k"])(s,{name:"tos",value:"1",type:"checkbox",class:"w-4 h-4 float-left -ml-6 mt-1 rounded inline-block"}),se,Object(r["k"])(i,{class:"text-red-600 block",name:"tos"})]),Object(r["h"])("button",{type:"submit",disabled:o.reg_in_submission,class:Object(r["s"])([c.toggleSubmitButton,"block w-full text-white py-1.5 px-3 rounded transition"])}," Submit ",10,ie)]})),_:1},8,["onSubmit","validation-schema","initial-values"])],64)}var ue={name:"RegisterForm",data:function(){return{schema:{name:"required|min:3|max:100|alpha_spaces",email:"required|email|min:6|max:100",age:"required|min_value:18|max_value:105",password:"required|min:6|max:25",confirm_password:"passwords_mismatch:@password",country:"required|country_excluded:Argentina",tos:"tos",user_type:"user_type"},userData:{country:"USA",user_type:"Listener"},reg_in_submission:!1,reg_show_alert:!1,reg_alert_variant:"bg-blue-500",reg_alert_msg:"Please wait! Your account is being created"}},methods:{register:function(e){var t=this;return Object(F["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.reg_show_alert=!0,t.reg_in_submission=!0,t.reg_alert_variant="bg-blue-500",t.reg_alert_msg="Please wait! Your account is being created",n.prev=4,n.next=7,t.$store.dispatch("register",e);case 7:n.next=15;break;case 9:return n.prev=9,n.t0=n["catch"](4),t.reg_in_submission=!1,t.reg_alert_variant="bg-red-500",t.reg_alert_msg="Unexpected error occured. Please, try again",n.abrupt("return");case 15:return console.log(t.$store.state.userLoggedIn),t.reg_alert_variant="bg-green-500",t.reg_alert_msg="Success! Your account has been created",t.$store.commit("toggleAuthModal"),n.next=21,t.$store.dispatch("succesLog");case 21:window.location.reload();case 22:case"end":return n.stop()}}),n,null,[[4,9]])})))()}},computed:{toggleSubmitButton:function(){return this.reg_in_submission?"bg-gray-500":"hover:bg-purple-700 bg-purple-600"}}};ue.render=le;var be=ue,de={components:{LoginForm:U,RegisterForm:be},name:"AuthModal",data:function(){return{tab:"login"}},computed:Object(g["a"])({},Object(p["e"])(["authModalShow"])),methods:Object(g["a"])({},Object(p["d"])(["toggleAuthModal"]))};de.render=R;var me=de,ge={class:"fixed bottom-0 left-0 bg-white p-5 pb-4\n   text-left align-top w-full h-16"},pe={class:"relative"},he={class:"float-left w-7 h-7 leading-3"},Oe={class:"float-left w-7 h-7 leading-3 text-gray-400 mt-0 text-lg w-14 ml-5 mt-1"},je={class:"player-currenttime"},fe={class:"float-left w-7 h-7 leading-3 ml-7 mt-2 player-scrub"},ve={key:0,class:"absolute left-0 right-0 text-lg text-center mx-auto player-song-info"},xe={class:"song-title"},ye={class:"song-artist"},_e=Object(r["h"])("i",{class:"fas fa-circle"},null,-1),we=[_e],ke={class:"float-left w-7 h-7 leading-3 text-gray-400 mt-0 text-lg w-14 ml-8 mt-1"},Se={class:"player-duration"};function Ae(e,t,n,a,o,c){return Object(r["z"])(),Object(r["g"])("div",ge,[Object(r["h"])("div",pe,[Object(r["h"])("div",he,[Object(r["h"])("button",{onClick:t[0]||(t[0]=Object(r["Q"])((function(){return e.toggleAudio&&e.toggleAudio.apply(e,arguments)}),["prevent"])),type:"button"},[Object(r["h"])("i",{class:Object(r["s"])(["fa text-gray-500 text-xl",{"fa-play":!e.playing,"fa-pause":e.playing}])},null,2)])]),Object(r["h"])("div",Oe,[Object(r["h"])("span",je,Object(r["H"])(e.seek),1)]),Object(r["h"])("div",fe,[e.currentSong.modified_name?(Object(r["z"])(),Object(r["g"])("div",ve,[Object(r["h"])("span",xe,Object(r["H"])(e.currentSong.modified_name),1),Object(r["h"])("span",ye," (uploaded by "+Object(r["H"])(e.currentSong.display_name)+")",1)])):Object(r["f"])("",!0),Object(r["h"])("span",{onClick:t[1]||(t[1]=Object(r["Q"])((function(){return e.updateSeek&&e.updateSeek.apply(e,arguments)}),["prevent"])),class:"block w-full h-2 rounded m-1 mt-2 bg-gray-200 relative cursor-pointer"},[Object(r["h"])("span",{class:"absolute top-neg-8 text-gray-800 text-lg",style:Object(r["t"])([{top:"50%",transform:"translateY(-50%)"},{left:e.playerProgress}])},we,4),Object(r["h"])("span",{class:"block h-2 rounded bg-gradient-to-r from-green-500 to-green-400",style:Object(r["t"])({width:e.playerProgress})},null,4)])]),Object(r["h"])("div",ke,[Object(r["h"])("span",Se,Object(r["H"])(e.duration),1)])])])}var Ee={name:"Player",methods:Object(g["a"])({},Object(p["b"])(["toggleAudio","updateSeek"])),computed:Object(g["a"])(Object(g["a"])({},Object(p["c"])(["playing"])),Object(p["e"])(["seek","duration","currentSong","playerProgress"]))};Ee.render=Ae;var Pe=Ee,Re={name:"App",components:{AppHeader:O,AuthModal:me,AppPlayer:Pe},created:function(){this.$store.dispatch("init_login")}};n("c94a");Re.render=a;var ze=Re,De=n("6c02"),Ce=Object(r["i"])('<section class="mb-8 py-20 text-white text-center relative"><div class="absolute inset-0 w-full h-full bg-contain introduction-bg" style="background-image:url(assets/img/header.png);background-repeat-y:no-repeat;background-size:cover;"></div><div class="container mx-auto"><div class="text-white main-header-content"><h1 class="font-bold text-5xl mb-5">Listen to Great Music!</h1><p class="w-full md:w-8/12 mx-auto"> Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus et dolor mollis, congue augue non, venenatis elit. Nunc justo eros, suscipit ac aliquet imperdiet, venenatis et sapien. Duis sed magna pulvinar, fringilla lorem eget, ullamcorper urna. </p></div></div><img class="relative block mx-auto mt-5 -mb-20 w-auto max-w-full" src="assets/img/introduction-music.png"></section>',1),Ie={class:"container mx-auto"},Me={class:"bg-white rounded border border-gray-200 relative flex flex-col"},Le=Object(r["h"])("div",{class:"px-6 pt-6 pb-5 font-bold border-b border-gray-200"},[Object(r["h"])("span",{class:"card-title"},"Songs"),Object(r["h"])("i",{class:"fa fa-headphones-alt float-right text-green-400 text-xl"})],-1),Fe={id:"playlist"};function qe(e,t,n,a,o,c){var s=Object(r["E"])("app-song-item");return Object(r["z"])(),Object(r["g"])("main",null,[Ce,Object(r["h"])("section",Ie,[Object(r["h"])("div",Me,[Le,Object(r["h"])("ol",Fe,[(Object(r["z"])(!0),Object(r["g"])(r["a"],null,Object(r["D"])(o.songs,(function(e){return Object(r["z"])(),Object(r["e"])(s,{key:e.docID,song:e},null,8,["song"])})),128))])])])])}n("159b");var Ue=n("e71f"),Te=n("260b"),He=n("ea7b"),$e=n("588e"),Qe={apiKey:"AIzaSyBVI_TLocU4YKkvhEgXtG0mD77_mFs5Z1M",authDomain:"music-c7eb1.firebaseapp.com",projectId:"music-c7eb1",storageBucket:"music-c7eb1.appspot.com",messagingSenderId:"497800940575",appId:"1:497800940575:web:1586aeb2a0e8223ae3592a"},Ye=Object(Te["a"])(Qe),Be=Object(Ue["g"])(Ye),Ne=Object(He["b"])(Ye),Ge=Object($e["c"])(Ye),Ve=(Object(Ue["b"])(Be,"users"),Object(Ue["b"])(Be,"songs")),Ke=Object(Ue["b"])(Be,"comments"),Je={class:"flex justify-between items-center p-3 pl-6 cursor-pointer\n      transition duration-300 hover:bg-gray-50"},We={class:"text-gray-500 text-sm"},Xe={class:"text-gray-600 text-lg"},Ze=["onClick"],et=Object(r["h"])("i",{class:"fa fa-comments text-gray-600"},null,-1);function tt(e,t,n,a,o,c){var s=Object(r["E"])("router-link");return Object(r["z"])(),Object(r["g"])("li",Je,[Object(r["h"])("div",null,[Object(r["k"])(s,{to:{name:"song",params:{id:n.song.docID}},class:"font-bold block text-gray-600"},{default:Object(r["O"])((function(){return[Object(r["j"])(Object(r["H"])(n.song.modified_name),1)]})),_:1},8,["to"]),Object(r["h"])("span",We,"uploaded by: "+Object(r["H"])(n.song.display_name),1)]),Object(r["h"])("div",Xe,[Object(r["k"])(s,{custom:"",to:{name:"song",params:{id:n.song.docID},hash:"#comments"}},{default:Object(r["O"])((function(e){var t=e.navigate;return[Object(r["h"])("span",{class:"comments",onClick:t},[et,Object(r["j"])(" "+Object(r["H"])(n.song.comment_count),1)],8,Ze)]})),_:1},8,["to"])])])}var nt={name:"SongItem",props:["song"]};nt.render=tt;var rt=nt,at={name:"home",data:function(){return{songs:[],maxPerPage:10,pendingRequest:!1}},components:{AppSongItem:rt},created:function(){var e=this;return Object(F["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.getSongs(),window.addEventListener("scroll",e.handleScroll);case 2:case"end":return t.stop()}}),t)})))()},beforeUnmount:function(){window.removeEventListener("scroll",this.handleScroll)},methods:{handleScroll:function(){var e=document.documentElement,t=e.scrollTop,n=e.offsetHeight,r=window,a=r.innerHeight,o=Math.round(t)+a===n;o&&this.getSongs()},getSongs:function(){var e=this;return Object(F["a"])(regeneratorRuntime.mark((function t(){var n,r,a,o,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.pendingRequest){t.next=2;break}return t.abrupt("return");case 2:if(e.pendingRequest=!0,!e.songs.length){t.next=18;break}return t.next=6,Object(Ue["d"])(Be,"songs",e.songs[e.songs.length-1].docID);case 6:return r=t.sent,t.next=9,Object(Ue["e"])(r);case 9:return a=t.sent,t.next=12,Object(Ue["j"])(Ve,Object(Ue["h"])(e.maxPerPage),Object(Ue["i"])("modified_name"),Object(Ue["l"])(a));case 12:return o=t.sent,t.next=15,Object(Ue["f"])(o);case 15:n=t.sent,t.next=24;break;case 18:return t.next=20,Object(Ue["j"])(Ve,Object(Ue["h"])(e.maxPerPage),Object(Ue["i"])("modified_name"));case 20:return c=t.sent,t.next=23,Object(Ue["f"])(c);case 23:n=t.sent;case 24:n.forEach((function(t){e.songs.push(Object(g["a"])({docID:t.id},t.data()))})),e.pendingRequest=!1;case 26:case"end":return t.stop()}}),t)})))()}}};at.render=qe;var ot=at,ct={class:"about"},st=Object(r["h"])("h1",null,"This is an about page",-1),it=[st];function lt(e,t){return Object(r["z"])(),Object(r["g"])("div",ct,it)}const ut={};ut.render=lt;var bt=ut,dt={class:"container mx-auto mt-6"},mt={class:"md:grid md:grid-cols-3 md:gap-4"},gt={class:"col-span-1"},pt={class:"col-span-2"},ht={class:"bg-white rounded border border-gray-200 relative flex flex-col"},Ot=Object(r["h"])("div",{class:"px-6 pt-6 pb-5 font-bold border-b border-gray-200"},[Object(r["h"])("span",{class:"card-title"},"My Songs"),Object(r["h"])("i",{class:"fa fa-compact-disc float-right text-green-400 text-2xl"})],-1),jt={class:"p-6"};function ft(e,t,n,a,o,c){var s=Object(r["E"])("app-upload"),i=Object(r["E"])("composition-item");return Object(r["z"])(),Object(r["g"])("section",dt,[Object(r["h"])("div",mt,[Object(r["h"])("div",gt,[Object(r["k"])(s,{addSong:c.addSong},null,8,["addSong"])]),Object(r["h"])("div",pt,[Object(r["h"])("div",ht,[Ot,Object(r["h"])("div",jt,[(Object(r["z"])(!0),Object(r["g"])(r["a"],null,Object(r["D"])(o.songs,(function(e,t){return Object(r["z"])(),Object(r["e"])(i,{key:e.docID,song:e,index:t,updateSong:c.updateSong,removeSong:c.removeSong,updateUnsavedFlag:c.updateUnsavedFlag},null,8,["song","index","updateSong","removeSong","updateUnsavedFlag"])})),128))])])])])])}n("a434"),n("b0c0");var vt={class:"bg-white rounded border border-gray-200 relative flex flex-col"},xt=Object(r["h"])("div",{class:"px-6 pt-6 pb-5 font-bold border-b border-gray-200"},[Object(r["h"])("span",{class:"card-title"},"Upload"),Object(r["h"])("i",{class:"fas fa-upload float-right text-green-400 text-2xl"})],-1),yt={class:"p-6"},_t=Object(r["h"])("h5",null,"Drop your files here",-1),wt=[_t],kt=Object(r["h"])("hr",{class:"my-6"},null,-1),St={class:"flex h-4 overflow-hidden bg-gray-200 rounded"};function At(e,t,n,a,o,c){return Object(r["z"])(),Object(r["g"])("div",vt,[xt,Object(r["h"])("div",yt,[Object(r["h"])("div",{class:Object(r["s"])(["w-full px-10 py-20 rounded text-center cursor-pointer border border-dashed\n                border-gray-400 text-gray-400 transition duration-500 hover:text-white\n                hover:bg-green-400 hover:border-green-400 hover:border-solid",{"bg-green-400 border-green-400 border-solid":o.is_dragover}]),onDrag:t[0]||(t[0]=Object(r["Q"])((function(){}),["prevent","stop"])),onDragstart:t[1]||(t[1]=Object(r["Q"])((function(){}),["prevent","stop"])),onDragend:t[2]||(t[2]=Object(r["Q"])((function(e){return o.is_dragover=!1}),["prevent","stop"])),onDragover:t[3]||(t[3]=Object(r["Q"])((function(e){return o.is_dragover=!0}),["prevent","stop"])),onDragenter:t[4]||(t[4]=Object(r["Q"])((function(e){return o.is_dragover=!0}),["prevent","stop"])),onDragleave:t[5]||(t[5]=Object(r["Q"])((function(e){return o.is_dragover=!1}),["prevent","stop"])),onDrop:t[6]||(t[6]=Object(r["Q"])((function(e){return c.upload(e)}),["prevent","stop"]))},wt,34),Object(r["h"])("input",{type:"file",multiple:"",onChange:t[7]||(t[7]=function(e){return c.upload(e)})},null,32),kt,(Object(r["z"])(!0),Object(r["g"])(r["a"],null,Object(r["D"])(o.uploads,(function(e){return Object(r["z"])(),Object(r["g"])("div",{class:"mb-4",key:e.name},[Object(r["h"])("div",{class:Object(r["s"])(["font-bold text-sm",e.text_class])},[Object(r["h"])("i",{class:Object(r["s"])(e.icon)},null,2),Object(r["j"])(" "+Object(r["H"])(e.name),1)],2),Object(r["h"])("div",St,[Object(r["h"])("div",{class:Object(r["s"])(["transition-all progress-bar",e.variant]),style:Object(r["t"])({width:e.current_progress+"%"})},null,6)])])})),128))])])}var Et=n("2909"),Pt={name:"Upload",data:function(){return{is_dragover:!1,uploads:[]}},props:["addSong"],methods:{upload:function(e){var t=this,n=[];e.dataTransfer?(this.is_dragover=!1,n=Object(Et["a"])(e.dataTransfer.files)):n=Object(Et["a"])(e.target.files),console.log(n),n.forEach((function(e){if("audio/mpeg"===e.type){var n=Object($e["d"])(Ge,"songs/".concat(e.name)),r=Object($e["e"])(n,e),a=t.uploads.push({task:r,current_progress:0,name:e.name,variant:"bg-blue-400",icon:"fas fa-circle-notch fa-spin",text_class:""})-1;r.on("state_changed",(function(e){var n=e.bytesTransferred/e.totalBytes*100;t.uploads[a].current_progress=n}),(function(){t.uploads[a].variant="bg-red-400",t.uploads[a].icon="fas fa-times-circle text-red-400"}),Object(F["a"])(regeneratorRuntime.mark((function e(){var n,o,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={uid:Ne.currentUser.uid,display_name:Ne.currentUser.displayName,original_name:r.snapshot.ref.name,modified_name:r.snapshot.ref.name,genre:"",comment_count:0},console.log(Ne.currentUser),e.next=4,Object($e["b"])(r.snapshot.ref);case 4:return n.url=e.sent,e.next=7,Object(Ue["a"])(Ve,n);case 7:return o=e.sent,e.next=10,Object(Ue["e"])(o);case 10:c=e.sent,t.addSong(c),t.uploads[a].variant="bg-green-400",t.uploads[a].icon="fas fa-check-circle text-green-400";case 14:case"end":return e.stop()}}),e)}))))}}))}},beforeUnmount:function(){this.uploads.forEach((function(e){e.task.cancel(),console.log("beforeunmount fired")}))}};Pt.render=At;var Rt=Pt,zt={class:"border border-gray-200 p-3 mb-4 rounded"},Dt={class:"inline-block text-2xl w-4/5 font-bold truncated"},Ct=Object(r["h"])("i",{class:"fa fa-times"},null,-1),It=[Ct],Mt=Object(r["h"])("i",{class:"fa fa-pencil-alt"},null,-1),Lt=[Mt],Ft={class:"mb-3"},qt=Object(r["h"])("label",{class:"inline-block mb-2"}," New Song Title ",-1),Ut={class:"mb-3"},Tt=Object(r["h"])("label",{class:"inline-block mb-2"},"Genre",-1),Ht=["disabled"],$t=["disabled"];function Qt(e,t,n,a,o,c){var s=Object(r["E"])("vee-field"),i=Object(r["E"])("error-message"),l=Object(r["E"])("vee-form");return Object(r["z"])(),Object(r["g"])("div",zt,[Object(r["P"])(Object(r["h"])("div",null,[Object(r["h"])("h4",Dt,Object(r["H"])(n.song.modified_name),1),Object(r["h"])("button",{onClick:t[0]||(t[0]=function(){return c.deleteSong&&c.deleteSong.apply(c,arguments)}),class:"ml-1 py-1 px-2 text-sm rounded text-white bg-red-600 float-right"},It),Object(r["h"])("button",{onClick:t[1]||(t[1]=Object(r["Q"])((function(e){return o.showForm=!o.showForm}),["prevent"])),class:"ml-1 py-1 px-2 text-sm rounded text-white bg-blue-600 float-right"},Lt)],512),[[r["L"],!o.showForm]]),Object(r["P"])(Object(r["h"])("div",null,[o.edit_show_alert?(Object(r["z"])(),Object(r["g"])("div",{key:0,class:Object(r["s"])(["text-white text-center font-bold p-5 mb-4 rounded",o.edit_alert_variant])},Object(r["H"])(o.edit_alert_msg),3)):Object(r["f"])("",!0),Object(r["k"])(l,{onSubmit:c.submitEdit,"validation-schema":o.schema,"initial-values":n.song},{default:Object(r["O"])((function(){return[Object(r["h"])("div",Ft,[qt,Object(r["k"])(s,{type:"text",name:"modified_name",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300\n                transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Song Title",onInput:t[2]||(t[2]=function(e){return n.updateUnsavedFlag(!0)})}),Object(r["k"])(i,{class:"text-red-600",name:"modified_name"})]),Object(r["h"])("div",Ut,[Tt,Object(r["k"])(s,{type:"text",name:"genre",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300\n                transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Genre",onInput:t[3]||(t[3]=function(e){return n.updateUnsavedFlag(!0)})}),Object(r["k"])(i,{class:"text-red-600",name:"genre"})]),Object(r["h"])("button",{type:"submit",disabled:o.edit_in_submission,class:Object(r["s"])(["py-1.5 px-3 mr-2 rounded text-white",c.toggleSubmitButton])}," Submit ",10,Ht),Object(r["h"])("button",{type:"button",disabled:o.edit_in_submission,class:"py-1.5 px-3 rounded text-white bg-gray-600",onClick:t[4]||(t[4]=Object(r["Q"])((function(e){return o.showForm=!1}),["prevent"]))}," Go Back ",8,$t)]})),_:1},8,["onSubmit","validation-schema","initial-values"])],512),[[r["L"],o.showForm]])])}n("a9e3");var Yt={data:function(){return{showForm:!1,edit_in_submission:!1,edit_show_alert:!1,edit_alert_variant:"bg-blue-500",edit_alert_msg:"Please wait! We are saving your changes",schema:{modified_name:"required|max:70",genre:"max:30|alpha_spaces"}}},name:"CompositionItem",props:{song:{type:Object,required:!0},index:{type:Number,required:!0},updateSong:{type:Function,required:!0},removeSong:{type:Function,required:!0},updateUnsavedFlag:{type:Function}},methods:{submitEdit:function(e){var t=this;return Object(F["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.edit_in_submission=!0,t.edit_show_alert=!0,t.edit_alert_variant="bg-blue-500",t.edit_alert_msg="Please wait! We are saving your changes",console.log(e),n.prev=5,r=Object(Ue["d"])(Be,"songs",t.song.docID),n.next=9,Object(Ue["m"])(r,e);case 9:n.next=18;break;case 11:return n.prev=11,n.t0=n["catch"](5),t.edit_in_submission=!1,t.edit_alert_variant="bg-red-500",t.edit_alert_msg="Something went wrong! Try again later",console.log(n.t0),n.abrupt("return");case 18:t.updateSong(t.index,e),t.updateUnsavedFlag(!1),t.edit_in_submission=!1,t.edit_alert_variant="bg-green-500",t.edit_alert_msg="Succes! Song has been updated";case 23:case"end":return n.stop()}}),n,null,[[5,11]])})))()},deleteSong:function(){var e=this;return Object(F["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=Object(Ue["d"])(Be,"songs",e.song.docID),r=Object($e["d"])(Ge,"songs/".concat(e.song.original_name)),t.prev=2,t.next=5,Object(Ue["c"])(n);case 5:return t.next=7,Object($e["a"])(r);case 7:t.next=14;break;case 9:return t.prev=9,t.t0=t["catch"](2),e.removeSong(e.index),console.log(t.t0),t.abrupt("return");case 14:e.removeSong(e.index);case 15:case"end":return t.stop()}}),t,null,[[2,9]])})))()}},computed:{toggleSubmitButton:function(){return this.edit_in_submission?"bg-green-700":"hover:bg-green-600 bg-green-700"}}};Yt.render=Qt;var Bt=Yt,Nt={data:function(){return{songs:[],unsavedFlag:!1}},name:"manage",components:{AppUpload:Rt,CompositionItem:Bt},methods:{updateSong:function(e,t){this.songs[e].modified_name=t.modified_name,this.songs[e].genre=t.genre},removeSong:function(e){this.songs.splice(e,1)},addSong:function(e){var t=Object(g["a"])(Object(g["a"])({},e.data()),{},{docID:e.id});this.songs.push(t)},updateUnsavedFlag:function(e){this.unsavedFlag=e}},created:function(){var e=this;return Object(F["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(Ue["j"])(Ve,Object(Ue["n"])("uid","==",Ne.currentUser.uid),Object(Ue["i"])("modified_name"));case 2:return n=t.sent,t.next=5,Object(Ue["f"])(n);case 5:r=t.sent,r.forEach(e.addSong),console.log(e.songs);case 8:case"end":return t.stop()}}),t)})))()},beforeRouteLeave:function(e,t,n){if(this.unsavedFlag){var r=confirm("You have unsaved changes. Do you want to leave ?");console.log(r),n(r)}else n()}};Nt.render=ft;var Gt=Nt,Vt=(n("4e82"),{class:"w-full mb-8 py-14 text-center text-white relative"}),Kt=Object(r["h"])("div",{class:"absolute inset-0 w-full h-full box-border bg-contain music-bg",style:{"background-image":"url(../assets/img/song-header.png)"}},null,-1),Jt={class:"container mx-auto flex items-center"},Wt={class:"z-50 text-left ml-8"},Xt={class:"text-3xl font-bold"},Zt={class:"container mx-auto mt-6",id:"comments"},en={class:"bg-white rounded border border-gray-200 relative flex flex-col"},tn={class:"px-6 pt-6 pb-5 font-bold border-b border-gray-200"},nn={class:"card-title"},rn=Object(r["h"])("i",{class:"fa fa-comments float-right text-green-400 text-2xl"},null,-1),an={class:"p-6"},on=["disabled"],cn=Object(r["h"])("option",{value:"1"},"Latest",-1),sn=Object(r["h"])("option",{value:"2"},"Oldest",-1),ln=[cn,sn],un={class:"container mx-auto"};function bn(e,t,n,a,o,c){var s=Object(r["E"])("vee-field"),i=Object(r["E"])("error-message"),l=Object(r["E"])("vee-form"),u=Object(r["E"])("comment-item");return Object(r["z"])(),Object(r["g"])("main",null,[Object(r["h"])("section",Vt,[Kt,Object(r["h"])("div",Jt,[Object(r["h"])("button",{onClick:t[0]||(t[0]=Object(r["Q"])((function(e){return c.newSong(o.song)}),["prevent"])),type:"button",class:"z-50 h-24 w-24 text-3xl bg-white text-black rounded-full\n          focus:outline-none"},[Object(r["h"])("i",{class:Object(r["s"])(["fas",{"fa-pause":e.playing,"fa-play":!e.playing}])},null,2)]),Object(r["h"])("div",Wt,[Object(r["h"])("div",Xt,Object(r["H"])(o.song.modified_name),1),Object(r["h"])("div",null,Object(r["H"])(o.song.genre),1)])])]),Object(r["h"])("section",Zt,[Object(r["h"])("div",en,[Object(r["h"])("div",tn,[Object(r["h"])("span",nn,"Comments ("+Object(r["H"])(o.song.comment_count)+")",1),rn]),Object(r["h"])("div",an,[o.comment_show_alert?(Object(r["z"])(),Object(r["g"])("div",{key:0,class:Object(r["s"])(["text-white text-center font-bold p-4 mb-4",o.comment_alert_variant])},Object(r["H"])(o.comment_alert_message),3)):Object(r["f"])("",!0),Object(r["P"])(Object(r["k"])(l,{onSubmit:c.addComment,"validation-schema":o.schema},{default:Object(r["O"])((function(){return[Object(r["k"])(s,{as:"textarea",name:"comment",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition\n                duration-500 focus:outline-none focus:border-black rounded mb-4",placeholder:"Your comment here..."}),Object(r["k"])(i,{class:"text-red-600",name:"comment"}),Object(r["h"])("button",{type:"submit",class:"py-1.5 px-3 rounded text-white bg-green-600 block",disabled:o.comment_in_submission}," Submit ",8,on)]})),_:1},8,["onSubmit","validation-schema"]),[[r["L"],e.userLoggedIn]]),Object(r["P"])(Object(r["h"])("select",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.sort=e}),class:"block mt-4 py-1.5 px-3 text-gray-800 border border-gray-300 transition\n            duration-500 focus:outline-none focus:border-black rounded"},ln,512),[[r["K"],o.sort]])])])]),Object(r["h"])("ul",un,[(Object(r["z"])(!0),Object(r["g"])(r["a"],null,Object(r["D"])(c.sortedComments,(function(e){return Object(r["z"])(),Object(r["e"])(u,{key:e.docID,comment:e},null,8,["comment"])})),128))])])}n("d3b7"),n("25f0"),n("fb6a");var dn={class:"p-6 bg-gray-50 border border-gray-200"},mn={class:"mb-5"},gn={class:"font-bold"};function pn(e,t,n,a,o,c){return Object(r["z"])(),Object(r["g"])("li",dn,[Object(r["h"])("div",mn,[Object(r["h"])("div",gn,Object(r["H"])(n.comment.name),1),Object(r["h"])("time",null,Object(r["H"])(c.date),1)]),Object(r["h"])("p",null,Object(r["H"])(n.comment.content),1)])}var hn={name:"Comment",props:{comment:{type:Object}},computed:{date:function(){var e=new Date(this.comment.datePosted);return e.toLocaleString()}}};hn.render=pn;var On=hn,jn={name:"Song",data:function(){return{song:{},comments:[],sort:"1",schema:{comment:"required|min:3"},comment_in_submission:!1,comment_show_alert:!1,comment_alert_variant:"bg-blue-500",comment_alert_message:"Please wait! Your comment is being submited"}},components:{CommentItem:On},methods:{newSong:function(e){var t=this;return Object(F["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$store.dispatch("newSong",e);case 2:return n.next=4,t.$store.dispatch("toggleAudio",e);case 4:case"end":return n.stop()}}),n)})))()},addComment:function(e,t){var n=this;return Object(F["a"])(regeneratorRuntime.mark((function r(){var a,o,c;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=t.resetForm,n.comment_in_submission=!0,n.comment_show_alert=!0,n.comment_alert_variant="bg-blue-500",n.comment_alert_message="Please wait! Your comment is being submited",o={content:e.comment,datePosted:(new Date).toString(),songID:n.$route.params.id,name:Ne.currentUser.displayName,uid:Ne.currentUser.uid},r.next=8,Object(Ue["a"])(Ke,o);case 8:return n.song.comment_count+=1,r.next=11,Object(Ue["d"])(Be,"songs",n.$route.params.id);case 11:return c=r.sent,r.next=14,Object(Ue["m"])(c,{comment_count:n.song.comment_count});case 14:return r.next=16,n.getComments();case 16:n.comment_in_submission=!1,n.comment_alert_variant="bg-green-500",n.comment_alert_message="Comment added!",a(),setTimeout((function(){n.comment_show_alert=!1}),1500);case 21:case"end":return r.stop()}}),r)})))()},getComments:function(){var e=this;return Object(F["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(Ue["j"])(Ke,Object(Ue["n"])("songID","==",e.$route.params.id));case 2:return n=t.sent,t.next=5,Object(Ue["f"])(n);case 5:r=t.sent,e.comments=[],r.forEach((function(t){e.comments.push(Object(g["a"])(Object(g["a"])({},t.data()),{},{docID:t.id}))}));case 8:case"end":return t.stop()}}),t)})))()}},computed:Object(g["a"])(Object(g["a"])(Object(g["a"])({},Object(p["e"])(["userLoggedIn"])),Object(p["c"])(["playing"])),{},{sortedComments:function(){var e=this;return this.comments.slice().sort((function(t,n){return"1"===e.sort?new Date(n.datePosted)-new Date(t.datePosted):new Date(t.datePosted)-new Date(n.datePosted)}))}}),created:function(){var e=this;return Object(F["a"])(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(Ue["d"])(Be,"songs",e.$route.params.id);case 2:return n=t.sent,t.next=5,Object(Ue["e"])(n);case 5:if(r=t.sent,r.exists()){t.next=9;break}return e.$router.push({name:"home"}),t.abrupt("return");case 9:a=e.$route.query.sort,e.sort="1"===a||"2"===a?a:"1",e.song=r.data(),e.getComments();case 13:case"end":return t.stop()}}),t)})))()},watch:{sort:function(e){e!==this.$route.query.sort&&this.$router.push({query:{sort:e}})}}};jn.render=bn;var fn=jn,vn=n("1e5c"),xn=(n("99af"),{formatTime:function(e){var t=Math.floor(e/60)||0,n=Math.round(e-60*t)||0;return"".concat(t,":").concat(n<10?0:"").concat(n)}}),yn=Object(p["a"])({state:{authModalShow:!1,userLoggedIn:!1,currentSong:{},sound:{},seek:"00:00",duration:"00:00",playerProgress:"0%"},mutations:{toggleAuthModal:function(e){e.authModalShow=!e.authModalShow},toggleAuth:function(e){e.userLoggedIn=!e.userLoggedIn},newSong:function(e,t){e.sound.playing&&(e.sound.stop(),e.sound.unload(),e.sound=null),e.currentSong=t,e.sound=new vn["Howl"]({src:[t.url],html5:!0}),console.log(e.currentSong)},updatePosition:function(e){e.seek=xn.formatTime(e.sound.seek()),e.duration=xn.formatTime(e.sound.duration()),e.playerProgress="".concat(e.sound.seek()/e.sound.duration()*100,"% ")}},getters:{playing:function(e){return!!e.sound.playing&&e.sound.playing()}},actions:{register:function(e,t){return Object(F["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.next=3,Object(He["a"])(Ne,t.email,t.password);case 3:return a=n.sent,n.next=6,Object(Ue["k"])(Object(Ue["d"])(Be,"users",a.user.uid),{name:t.name,email:t.email,age:t.age,country:t.country,user_type:t.user_type});case 6:return n.next=8,Object(He["e"])(Ne.currentUser,{displayName:t.name});case 8:r("toggleAuth");case 9:case"end":return n.stop()}}),n)})))()},init_login:function(e){var t=e.commit,n=Ne.currentUser;n&&t("toggleAuth")},login:function(e,t){return Object(F["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.next=3,Object(He["c"])(Ne,t.email,t.password);case 3:r("toggleAuth");case 4:case"end":return n.stop()}}),n)})))()},signOut:function(e){return Object(F["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,Object(He["d"])(Ne);case 3:n("toggleAuth");case 4:case"end":return t.stop()}}),t)})))()},succesLog:function(e){return Object(F["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.commit,setTimeout((function(){n("toggleAuthModal")}),2e3);case 2:case"end":return t.stop()}}),t)})))()},newSong:function(e,t){return Object(F["a"])(regeneratorRuntime.mark((function n(){var r,a,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=e.commit,a=e.state,o=e.dispatch,a.currentSong!==t){n.next=3;break}return n.abrupt("return");case 3:r("newSong",t),a.sound.on("play",(function(){requestAnimationFrame((function(){o("progress")}))}));case 5:case"end":return n.stop()}}),n)})))()},toggleAudio:function(e){return Object(F["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.state,n.sound.playing){t.next=3;break}return t.abrupt("return");case 3:n.sound.playing()?n.sound.pause():n.sound.play();case 4:case"end":return t.stop()}}),t)})))()},progress:function(e){var t=e.commit,n=e.state,r=e.dispatch;t("updatePosition"),n.sound.playing()&&requestAnimationFrame((function(){r("progress")}))},updateSeek:function(e,t){var n=e.state,r=e.dispatch;if(n.sound.playing){var a=t.currentTarget.getBoundingClientRect(),o=a.x,c=a.width,s=t.clientX-o,i=s/c,l=n.sound.duration()*i;n.sound.seek(l),n.sound.once("seek",(function(){r("progress")}))}}}}),_n=[{name:"home",path:"/",component:ot},{name:"about",path:"/about",component:bt},{name:"manage",path:"/manage",meta:{requiresAuth:!0},component:Gt,beforeEnter:function(e,t,n){console.log("manage route guard"),n()}},{name:"song",path:"/song/:id",component:fn},{path:"/manage-music",redirect:{name:"manage"}},{path:"/:catchAll(.*)*",redirect:{name:"home"}}],wn=Object(De["a"])({history:Object(De["b"])("/Song-App/"),routes:_n,linkExactActiveClass:"text-yellow-500"});wn.beforeEach((function(e,t,n){console.log(e.matched),e.matched.some((function(e){return e.meta.requiresAuth}))?yn.state.userLoggedIn?n():(n({name:"home"}),yn.commit("toggleAuthModal")):n()}));var kn,Sn=wn,An=n("7bb1"),En=n("3aa8"),Pn={install:function(e){e.component("VeeForm",An["c"]),e.component("VeeField",An["b"]),e.component("ErrorMessage",An["a"]),Object(An["e"])("required",En["i"]),Object(An["e"])("tos",En["i"]),Object(An["e"])("min",En["f"]),Object(An["e"])("max",En["d"]),Object(An["e"])("email",En["c"]),Object(An["e"])("alpha_spaces",En["a"]),Object(An["e"])("min_value",En["g"]),Object(An["e"])("max_value",En["e"]),Object(An["e"])("passwords_mismatch",En["b"]),Object(An["e"])("excluded",En["h"]),Object(An["e"])("country_excluded",En["h"]),Object(An["e"])("user_type",En["i"]),Object(An["d"])({generateMessage:function(e){var t={required:"The field ".concat(e.field," is required."),min:"The field ".concat(e.field," is too short"),max:"The field ".concat(e.field," is too long"),alpha_spaces:"The field ".concat(e.field," may only contain aphabetical characters and spaces"),email:"The field ".concat(e.field," must be a valid email"),min_value:"The field ".concat(e.field," is too low"),max_value:"The field ".concat(e.field," is too high"),excluded:"You are not allowed to use this value in field ".concat(e.field),country_excluded:"Due to restrictions, we do not accept users from this location.",passwords_mismatch:"The passwords don't match.",tos:"You must accept the Terms of Service",user_type:"You must choose a type of user"},n=t[e.rule.name]?t[e.rule.name]:"The field ".concat(e.field," is invalid.");return n},validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0})}};n("ba8c"),n("845f");Ne.onAuthStateChanged((function(){kn||(kn=Object(r["d"])(ze),kn.use(yn),kn.use(Sn),kn.use(Pn),kn.mount("#app"))}))},"7f04":function(e,t,n){},"845f":function(e,t,n){},ba8c:function(e,t,n){},c94a:function(e,t,n){"use strict";n("7f04")}});
//# sourceMappingURL=app.c924e7cf.js.map